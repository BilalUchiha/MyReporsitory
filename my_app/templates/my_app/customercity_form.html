{% extends 'base.html' %}
{% block content %}

<div class="row">
    <form action="" method="GET">
                <input type="text" name="q" placeholder="Search">
                <input type="submit" value="Search">
            </form>
    <form  method="post">
        {% csrf_token %}
        <div class="row">
            <!-- <p>{{myfilter}}</p> -->
            
            <div class="form-group col-md-6">
                <label>select City</label>
                <select class="form-control"  name='selectCity' id="selectCity" onchange="functionName()">
                
                    <option value="0" selected> -- All City -- </option>
                
                    {% for i in city %}
                        {% if i.city_id|stringformat:"i" == SelectedValue %}
                            <option  value="{{i.city_id}}" selected>{{i.cityname}}</option>
                        {% else %}
                            <option value="{{i.city_id}}">{{i.cityname}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>

            
            <br />
           
        </div>
        <input id="searchByCity" class="col-md-2 btn btn-primary"  style="display:none;" type="submit">
        <input id="Search" class="col-md-2 btn btn-primary"  style="display:none;" type="submit">
    </form>
    <div class="table-responsive">
        <table style="width:90% ;" class="table table-striped table-bordered bg-success">
            <thead>
                <tr>
                    <th>#</th>
                    <th>CustomerID</th>
                    <th>CustomerName</th>
                    <th>Address</th>
                    <th>Balance</th>
                
                </tr>
            </thead>
            <tbody>
                {% for i in Customer %}

                    <tr>
                    <td>{{ forloop.counter }}</div>
                    <td>{{i.customerid}}</td>
                    <td>{{i.customername}}</td>
                    <td>{{i.address}}</td>
                    <td>{{i.blance}}</td>
                    </tr>
                {% endfor %}

            </tbody>
        </table>
        <h1>Total: {{Customer.count}}</h1>
    </div>
</div>        
    
<script> 
  function functionName(){
     var submitButton = document.getElementById("searchByCity");
     submitButton.click();
  }
  function functionSearch(){
    var submitButton = document.getElementById("Search");
    submitButton.click();
 }

  </script>

  {% endblock %}